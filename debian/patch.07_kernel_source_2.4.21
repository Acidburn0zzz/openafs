Index: src/libafs/MakefileProto.LINUX.in
===================================================================
RCS file: /afs/sipb.mit.edu/project/openafs/debian/cvs/openafs/src/libafs/MakefileProto.LINUX.in,v
retrieving revision 1.9
diff -u -r1.9 MakefileProto.LINUX.in
--- src/libafs/MakefileProto.LINUX.in	11 Dec 2002 03:00:40 -0000	1.9
+++ src/libafs/MakefileProto.LINUX.in	26 Jul 2003 20:46:52 -0000
@@ -89,7 +89,7 @@
 	 -mfixed-range=f10-f15,f32-f127 -falign-functions=32 -mb-step
 DEFINES = -D__KERNEL__ -DKERNEL -D_KERNEL ${SMP_DEF} -DMODULE
 <all>
-INCLUDES = -I. -I../ -I${TOP_SRCDIR}/config
+INCLUDES = -I. -I../ -I${LINUX_KERNEL_PATH}/include -I${TOP_SRCDIR}/config
 
 CFLAGS = $(CCFLAGS) $(DEFINES) $(INCLUDES)
 
Index: src/rx/rx_kcommon.h
===================================================================
RCS file: /afs/sipb.mit.edu/project/openafs/debian/cvs/openafs/src/rx/rx_kcommon.h,v
retrieving revision 1.1.1.9
diff -u -r1.1.1.9 rx_kcommon.h
--- src/rx/rx_kcommon.h	13 Apr 2003 19:07:24 -0000	1.1.1.9
+++ src/rx/rx_kcommon.h	26 Jul 2003 20:46:53 -0000
@@ -33,7 +33,10 @@
 #include "../h/disp.h"
 #endif
 #include "../h/socket.h"
-#ifndef AFS_LINUX22_ENV
+#ifdef AFS_LINUX22_ENV
+#define _LINUX_CODA_FS_I
+struct coda_inode_info {};
+#else
 #include "../h/socketvar.h"
 #include "../h/protosw.h"
 #if !defined(AFS_SUN5_ENV) && !defined(AFS_XBSD_ENV)
@@ -80,8 +83,6 @@
 #include "../h/user.h"
 #endif
 #ifdef AFS_LINUX22_ENV
-#define _LINUX_CODA_FS_I
-struct coda_inode_info {};
 #include "../h/sched.h"
 #include "../h/netdevice.h"
 #else
