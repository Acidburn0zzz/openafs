.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH SCOUT 1 "OpenAFS" "1/Mar/2006" "AFS Command Reference"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
scout \- Monitors the File Server process
.SH "SYNOPSIS"
\fBscout\fR [\fBinitcmd\fR] <<\ \fB\-server\fR\ <\fIservers\ to\ monitor\fR+ >>>
      <<\ [\fB\-basename\fR\ <\fIbase\ server\ name\fR] >>>
      <<\ [\fB\-frequency\fR\ <\fIpoll\ frequency,\ in\ seconds\fR] >>> [\fB\-host\fR]
      <<\ [\fB\-attention\fR\ <\fIspecify\ attention\ (highlighting)\ level\fR+] >>>
      <<\ [\fB\-debug\fR\ <\fIturn\ debugging\ output\ on\ to\ the\ named\ file\fR] >>>
      [\fB\-help\fR]
.PP
\fBscout\fR [\fBi\fR] <<\ \fB\-s\fR\ <\fIservers\ to\ monitor\fR+ >>>
      <<\ [\fB\-b\fR\ <\fIbase\ server\ name\fR] >>> <<\ [\fB\-f\fR\ <\fIpoll\ frequency,\ in\ seconds\fR] >>>
      [\fB\-ho\fR] <<\ [\fB\-a\fR\ <\fIspecify\ attention\ (highlighting)\ level\fR+] >>>
      <<\ [\fB\-d\fR\ <\fIturn\ debugging\ output\ on\ to\ the\ named\ file\fR] >>> [\fB\-he\fR]
.SH "DESCRIPTION"
The scout command displays statistics gathered from the File Server
process running on each machine specified with the \fB\-server\fR
argument. the \fIOUTPUT\fR manpage explains the meaning of the statistics and describes
how they appear in the command shell, which is preferably a window managed
by a window manager program.
.SH "CAUTIONS"
The \fBscout\fR program must be able to access the curses graphics package,
which it uses to display statistics. Most UNIX distributions include
curses as a standard utility.
.PP
Both dumb terminals and windowing systems that emulate terminals can
display the \fBscout\fR program's statistics. The display makes use of
reverse video and cursor addressing, so the display environment must
support those features for it to look its best (most windowing systems do,
most dumb terminals do not). Also, set the TERM environment variable to
the correct terminal type, or one with characteristics similar to the
actual ones. For machines running the AIX operating system, the
recommended setting for TERM is \f(CWvt100\fR, as long as the terminal is
similar to that. For other operating systems, the wider range of
acceptable values includes \f(CWxterm\fR, \f(CWxterms\fR, \f(CWvt100\fR, \f(CWvt200\fR, and
\f(CWwyse85\fR.
.SH "OPTIONS"
.Ip "\fBinitcmd\fR" 4
Accommodates the command's use of the \s-1AFS\s0 command parser, and is optional.
.Ip "\fB\-server\fR <\fIservers to monitor\fR>+" 4
Specifies each file server machine running a File Server process to
monitor. Provide each machine's fully qualified hostname unless the
\fB\-basename\fR argument is used. In that case, specify only the unique
initial part of each machine name, omitting the domain name suffix (the
basename) common to all the names. It is also acceptable to use the
shortest abbreviated form of a host name that distinguishes it from other
machines, but successful resolution depends on the availability of a name
resolution service (such as the Domain Name Service or a local host table)
at the time the command is issued.
.Ip "\fB\-basename\fR <\fIbase server name\fR>" 4
Specifies the basename (domain name) suffix common to all of the file
server machine names specified with the \fB\-server\fR argument, and is
automatically appended to them. This argument is normally the name of the
cell to which the machines belong. Do not include the period that
separates this suffix from the distinguishing part of each file server
machine name, but do include any periods that occur within the suffix
itself.  For example, in the \s-1ABC\s0 Corporation cell, the proper value is
\f(CWabc.com\fR rather than \f(CW.abc.com\fR.
.Ip "\fB\-frequency\fR <\fIpoll frequency\fR>" 4
Indicates how often to probe the File Server processes. Specify a number
of seconds greater than \f(CW0\fR (zero). The default is 60 seconds.
.Ip "\fB\-host\fR" 4
Displays the name of the machine that is running the scout program, in the
banner line of the display screen.
.Ip "\fB\-attention\fR <\fIattention level\fR>+" 4
Defines a list of entries, each of which pairs a statistic and a threshold
value. When the value of the statistic exceeds the indicated threshold
value, it is highlighted (in reverse video) in the display. List the pairs
in any order. The acceptable values are the following:
.Ip "conn <\fIconnections\fR>" 8
Indicates the number of open connections to client processes at which to
highlight the statistic.  The statistic returns to regular display when
the value goes back below the threshold. There is no default threshold.
.Sp
An example of an acceptable value is conn 300.
.Ip "disk <\fIblocks_free\fR>" 8
Indicates the number of remaining free kilobyte blocks at which to
highlight the statistic. The statistic returns to regular display when the
value again exceeds the threshold. There is no default threshold.
.Sp
An example of an acceptable value is disk 5000.
.Ip "disk <\fIpercent_full\fR>%" 8
Indicates the percentage of disk usage at which to highlight the
statistic. The statistic returns to regular display when the value goes
back below the threshold. The default threshold is 95%. Acceptable values
are the integers in the range from \f(CW0\fR to \f(CW99\fR, followed by the percent
sign (\f(CW%\fR) to distinguish this type of value from the one described just
previously.
.Sp
An example is disk 90%.
.Ip "fetch <\fIfetch RPCs\fR>" 8
Indicates the cumulative number of fetch RPCs from client processes at
which to highlight the statistic. The statistic does not return to regular
display until the File Server process restarts, at which time the value
returns to zero.  There is no default threshold.
.Sp
Example of a legal value: fetch 6000000
.Ip "store <\fIstore RPCs\fR>" 8
Indicates the cumulative number of store RPCs from client processes at
which to highlight the statistic. The statistic does not return to regular
display until the File Server process restarts, at which time the value
returns to zero.  There is no default threshold.
.Sp
Example of an acceptable value: store 200000
.Ip "ws <\fIactive client machines\fR>" 8
Indicates the number of client machines with active open connections at
which to highlight the statistic. An active connection is defined as one
over which the File Server and client have communicated in the last 15
minutes. The statistic returns to regular display when the value goes back
below the threshold. There is no default threshold.
.Sp
Example of an acceptable value: ws 65
.Ip "\fB\-debug\fR <\fIdebugging trace file\fR>" 4
Specifies the pathname of the file into which to write a debugging
trace. Partial pathnames are interpreted relative to the current working
directory.
.Ip "\fB\-help\fR" 4
Prints the online help for this command. All other valid options are
ignored.
.SH "OUTPUT"
The \fBscout\fR program can display statistics either in a dedicated window
or on a plain screen if a windowing environment is not available. For best
results, the window or screen needs the ability to print in reverse video.
.PP
The \fBscout\fR screen has three main parts: the banner line, the statistics
display region and the message/probe line.
.Sh "The Banner Line"
By default, the string \f(CWScout\fR appears in the banner line at the top of
the window or screen. Two optional arguments place additional information
in the banner line:
.Ip "\(bu" 4
The \fB\-host\fR flag displays the name of the machine where the \fBscout\fR
program is running. As mentioned previously, this is useful when running
the \fBscout\fR program on several machines but displaying the results on a
single machine.
.Sp
For example, when the \fB\-host\fR flag is included and the \fBscout\fR program
is running on the machine \f(CWclient1.abc.com\fR, the banner line reads as
follows:
.Sp
.Vb 1
\&   [client1.abc.com] Scout
.Ve
.Ip "\(bu" 4
The \fB\-basename\fR argument displays the indicated basename on the banner
line. For example, including the argument \f(CW-basename abc.com\fR argument
results in the following banner line:
.Sp
.Vb 1
\&   Scout for abc.com
.Ve
.Sh "The Statistics Display Region"
In this region, which occupies the majority of the window, the \fBscout\fR
process displays the statistics gathered for each File Server
process. Each process appears on its own line.
.PP
The region is divided into six columns, labeled as indicated and
displaying the following information:
.Ip "Conn" 4
The first column displays the number of \s-1RPC\s0 connections open between the
File Server process and client machines.  This number equals or exceeds
the number in the \f(CWWs\fR column (see the fourth entry below), because each
user on the machine can have several separate connections open at once,
and one client machine can handle several users.
.Ip "Fetch" 4
The second column displays the number of fetch-type RPCs (fetch data,
fetch access list, and fetch status) that client machines have made to the
File Server process since the latter started.  This number is reset to
zero each time the File Server process restarts.
.Ip "Store" 4
The third column displays the number of store-type RPCs (store data, store
access list, and store status) that client machines have made to the File
Server process since the latter started. This number is reset to zero each
time the File Server process restarts.
.Ip "Ws" 4
The fourth column displays the number of client machines (\f(CWWs\fR stands for
workstations) that have communicated with the File Server process within
the last 15 minutes. Such machines are termed \fIactive\fR). This number is
likely to be smaller than the number in the first (\f(CWConn\fR) column because
a single client machine can have several connections open to one File
Server.
.Ip "server name" 4
The fifth, unlabeled, column displays the name of the file server machine
on which the File Server process is running. Names of 12 characters or
less are displayed in full; longer names are truncated and an asterisk
(\f(CW*\fR) appears as the last character in the name. Using the \fB\-basename\fR
argument is a good way to avoid truncation, but only if all machine names
end in a common string.
.Ip "Disk attn" 4
The sixth column displays the number of available kilobyte blocks on each
\s-1AFS\s0 disk partition on the file server machine.
.Sp
The display for each partition has the following form:
.Sp
.Vb 1
\&   x:<free_blocks>
.Ve
where \f(CWx\fR indicates the partition name. For example, \f(CWa:8949\fR specifies
that the \fI/vicepa\fR partition has 8,949 1-\s-1KB\s0 blocks free. Available space
can be displayed for up to 26 partitions. If the window is not wide enough
for all partition entries to appear on a single line, the \fBscout\fR process
automatically creates multiple lines, stacking the partition entries into
sub-columns within the sixth column.
.Sp
The label on the \f(CWDisk attn\fR column indicates the threshold value at
which entries in the column become highlighted. By default, the label is
.Sp
.Vb 1
\&   Disk attn: > 95% used
.Ve
because by default the scout program highlights the entry for any
partition that is over 95% full.
.PP
For all columns except the fifth (file server machine name), the optional
\fB\-attention\fR argument sets the value at which entries in the column are
highlighted to indicate that a certain value has been exceeded.  Only
values in the fifth and \f(CWDisk attn\fR columns ever become highlighted by
default.
.PP
If the scout program is unable to access or otherwise obtain information
about a partition, it generates a message similar to the following
example:
.PP
.Vb 1
\&   Could not get information on server fs1.abc.com partition /vicepa
.Ve
.Sh "The Message/Probe Line"
The bottom line of the scout screen indicates how many times the \fBscout\fR
program has probed the File Server processes for statistics. The
statistics gathered in the latest probe appear in the statistics display
region. The \fB\-frequency\fR argument overrides the default probe frequency
of 60 seconds.
.SH "EXAMPLES"
See the chapter on monitoring tools in the \fIIBM AFS Administration
Guide\fR, which illustrates the displays that result from different
combinations of options.
.SH "PRIVILEGE REQUIRED"
None
.SH "SEE ALSO"
the \fIafsmonitor(1)\fR manpage,
the \fIfstrace(8)\fR manpage
.SH "COPYRIGHT"
IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.

.rn }` ''
.IX Title "SCOUT 1"
.IX Name "scout - Monitors the File Server process"

.IX Header "NAME"

.IX Header "SYNOPSIS"

.IX Header "DESCRIPTION"

.IX Header "CAUTIONS"

.IX Header "OPTIONS"

.IX Item "\fBinitcmd\fR"

.IX Item "\fB\-server\fR <\fIservers to monitor\fR>+"

.IX Item "\fB\-basename\fR <\fIbase server name\fR>"

.IX Item "\fB\-frequency\fR <\fIpoll frequency\fR>"

.IX Item "\fB\-host\fR"

.IX Item "\fB\-attention\fR <\fIattention level\fR>+"

.IX Item "conn <\fIconnections\fR>"

.IX Item "disk <\fIblocks_free\fR>"

.IX Item "disk <\fIpercent_full\fR>%"

.IX Item "fetch <\fIfetch RPCs\fR>"

.IX Item "store <\fIstore RPCs\fR>"

.IX Item "ws <\fIactive client machines\fR>"

.IX Item "\fB\-debug\fR <\fIdebugging trace file\fR>"

.IX Item "\fB\-help\fR"

.IX Header "OUTPUT"

.IX Subsection "The Banner Line"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Subsection "The Statistics Display Region"

.IX Item "Conn"

.IX Item "Fetch"

.IX Item "Store"

.IX Item "Ws"

.IX Item "server name"

.IX Item "Disk attn"

.IX Subsection "The Message/Probe Line"

.IX Header "EXAMPLES"

.IX Header "PRIVILEGE REQUIRED"

.IX Header "SEE ALSO"

.IX Header "COPYRIGHT"

