.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH FS 1 "OpenAFS" "17/Aug/2007" "AFS Command Reference"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
fs \- Introduction to the fs command suite
.SH "DESCRIPTION"
The commands in the \fBfs\fR command suite constitute the main administrative
interface to the Cache Manager on an AFS client machine, which is
responsible for fetching AFS data from file server machines on behalf of
applications running on the client machine.
.PP
There are several categories of commands in the \fBfs\fR command suite:
.Ip "\(bu" 4
Commands to set and report how the Cache Manager interacts with server
machines:
\fBfs checkservers\fR,
\fBfs getcellstatus\fR,
\fBfs getcrypt\fR,
\fBfs getserverprefs\fR,
\fBfs listcells\fR,
\fBfs newcell\fR,
\fBfs setcell\fR,
\fBfs setcrypt\fR,
\fBfs setserverprefs\fR,
\fBfs sysname\fR,
and \fBfs wscell\fR.
.Ip "\(bu" 4
Commands to administer access control lists (ACLs):
\fBfs cleanacl\fR,
\fBfs copyacl\fR,
\fBfs getcalleraccess\fR,
\fBfs listacl\fR,
and \fBfs setacl\fR.
.Ip "\(bu" 4
Commands to administer server machines, volumes or partitions that house a
given file or directory:
\fBfs diskfree\fR,
\fBfs examine\fR,
\fBfs listquota\fR,
\fBfs quota\fR,
\fBfs setquota\fR,
\fBfs setvol\fR,
\fBfs whereis\fR,
and \fBfs whichcell\fR.
.Ip "\(bu" 4
Commands to administer the local client cache and related information:
\fBfs checkvolumes\fR,
\fBfs flush\fR,
\fBfs flushall\fR,
\fBfs flushvolume\fR,
\fBfs getcacheparms\fR,
\fBfs listaliases\fR,
\fBfs newalias\fR,
and \fBfs setcachesize\fR.
.Ip "\(bu" 4
Commands to administer volume mount points:
\fBfs lsmount\fR,
\fBfs mkmount\fR,
and \fBfs rmmount\fR.
.Ip "\(bu" 4
Commands to control monitoring and tracing:
\fBfs debug\fR,
and \fBfs messages\fR.
.Ip "\(bu" 4
A command to administer the Cache Manager's interaction with other
file systems:
\fBfs exportafs\fR.
.Ip "\(bu" 4
Commands to obtain help:
\fBfs apropos\fR
and \fBfs help\fR.
.PP
The Cache Manager and the fs commands use and maintain the following
configuration files:
.Ip "\fI/usr/vice/etc/CellServDB\fR" 4
Lists the database server machines in the local cell and any foreign cell
to which the administrator wishes to enable \s-1AFS\s0 access for users working
on the machine. The database server machines run the Authentication,
Backup, Protection and Volume Location (\s-1VL\s0) Server processes, which
maintain databases of administrative information. For users to access a
cell, its \f(CWroot.cell\fR volume must also be mounted in the local cell's \s-1AFS\s0
file tree.
.Ip "\fI/usr/vice/etc/ThisCell\fR" 4
Defines the machine's cell membership with respect to the \s-1AFS\s0 command
suites and Cache Manager access to \s-1AFS\s0 data.
.Ip "\fI/usr/vice/etc/cacheinfo\fR" 4
Defines configuration parameters for the cache, including its size and
whether it is in memory or on disk.
.PP
In addition, the Cache Manager automatically creates files on the cache
partition (by default, \fI/usr/vice/cache\fR for caching and tracking files
fetched from file server machines.
.PP
For more details, see the reference page for each file.
.SH "OPTIONS"
The following flag is available on every command in the fs suite. The
reference page for each command also lists it, but it is described here in
greater detail.
.Ip "\fB\-help\fR" 4
Prints a command's online help message on the standard output stream. Do
not combine this flag with any of the command's other options; when it is
provided, the command interpreter ignores all other options, and only
prints the help message.
.SH "PRIVILEGE REQUIRED"
The privileges required for fs commands vary more than for other command
suites. Pay special attention to the PRIVILEGE REQUIRED section of each
command description.
.PP
The various types of necessary privilege include:
.Ip "\(bu" 4
Having permissions on a directory's \s-1ACL\s0. For example, creating and
removing mount points requires \f(CWa\fR (administer), \f(CWi\fR (insert), and \f(CWd\fR
(delete) permissions on the \s-1ACL\s0 of the directory in which the mount point
resides.
.Ip "\(bu" 4
Being logged onto the machine as the local superuser \f(CWroot\fR. This is
necessary when issuing commands that affect Cache Manager configuration.
.Ip "\(bu" 4
Belonging to the system:administrators group in the Protection Database.
.Ip "\(bu" 4
No privilege. Many \fBfs\fR commands simply list information.
.SH "SEE ALSO"
the \fIafs_cache(5)\fR manpage,
the \fICellServDB(5)\fR manpage,
the \fIThisCell(5)\fR manpage
the \fIcacheinfo(5)\fR manpage,
the \fIfs_apropos(1)\fR manpage,
the \fIfs_checkservers(1)\fR manpage,
the \fIfs_checkvolumes(1)\fR manpage,
the \fIfs_cleanacl(1)\fR manpage,
the \fIfs_copyacl(1)\fR manpage,
the \fIfs_diskfree(1)\fR manpage,
the \fIfs_examine(1)\fR manpage,
the \fIfs_exportafs(1)\fR manpage,
the \fIfs_flush(1)\fR manpage,
the \fIfs_flushall(1)\fR manpage,
the \fIfs_flushmount(1)\fR manpage,
the \fIfs_flushvolume(1)\fR manpage,
the \fIfs_getcacheparms(1)\fR manpage,
the \fIfs_getcalleraccess(1)\fR manpage,
the \fIfs_getcellstatus(1)\fR manpage,
the \fIfs_getclientaddrs(1)\fR manpage,
the \fIfs_getcrypt(1)\fR manpage,
the \fIfs_getserverprefs(1)\fR manpage,
the \fIfs_help(1)\fR manpage,
the \fIfs_listacl(1)\fR manpage,
the \fIfs_listaliases(1)\fR manpage,
the \fIfs_listcells(1)\fR manpage,
the \fIfs_listquota(1)\fR manpage,
the \fIfs_lsmount(1)\fR manpage,
the \fIfs_messages(1)\fR manpage,
the \fIfs_mkmount(1)\fR manpage,
the \fIfs_newalias(1)\fR manpage,
the \fIfs_newcell(1)\fR manpage,
the \fIfs_quota(1)\fR manpage,
the \fIfs_rmmount(1)\fR manpage,
the \fIfs_setacl(1)\fR manpage,
the \fIfs_setcachesize(1)\fR manpage,
the \fIfs_setcell(1)\fR manpage,
the \fIfs_setclientaddrs(1)\fR manpage,
the \fIfs_setcrypt(1)\fR manpage,
the \fIfs_setquota(1)\fR manpage,
the \fIfs_setserverprefs(1)\fR manpage,
the \fIfs_setvol(1)\fR manpage,
the \fIfs_storebehind(1)\fR manpage,
the \fIfs_sysname(1)\fR manpage,
the \fIfs_whereis(1)\fR manpage,
the \fIfs_whichcell(1)\fR manpage,
the \fIfs_wscell(1)\fR manpage
.SH "COPYRIGHT"
IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.

.rn }` ''
.IX Title "FS 1"
.IX Name "fs - Introduction to the fs command suite"

.IX Header "NAME"

.IX Header "DESCRIPTION"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\fI/usr/vice/etc/CellServDB\fR"

.IX Item "\fI/usr/vice/etc/ThisCell\fR"

.IX Item "\fI/usr/vice/etc/cacheinfo\fR"

.IX Header "OPTIONS"

.IX Item "\fB\-help\fR"

.IX Header "PRIVILEGE REQUIRED"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Header "SEE ALSO"

.IX Header "COPYRIGHT"

