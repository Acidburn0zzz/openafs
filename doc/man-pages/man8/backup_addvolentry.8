.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH backup_addvolentry 8 "OpenAFS" "11/Nov/2007" "AFS Command Reference"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
backup_addvolentry \- Defines a volume entry in a volume set
.SH "SYNOPSIS"
\fBbackup addvolentry\fR <<\ \fB\-name\fR\ <\fIvolume\ set\ name\fR >>>
    <<\ \fB\-server\fR\ <\fImachine\ name\fR >>> <<\ \fB\-partition\fR\ <\fIpartition\ name\fR >>>
    <<\ \fB\-volumes\fR\ <\fIvolume\ name\ (regular\ expression)\fR >>>
    [\fB\-localauth\fR] <<\ [\fB\-cell\fR\ <\fIcell\ name\fR] >>> [\fB\-help\fR]
.PP
\fBbackup addvole\fR <<\ \fB\-n\fR\ <\fIvolume\ set\ name\fR >>> <<\ \fB\-s\fR\ <\fImachine\ name\fR >>>
    <<\ \fB\-p\fR\ <\fIpartition\ name\fR >>> <<\ \fB\-v\fR\ <\fIvolume\ name\ (regular\ expression)\fR >>>
    [\fB\-l\fR] <<\ [\fB\-c\fR\ <\fIcell\ name\fR] >>> [\fB\-h\fR]
.SH "DESCRIPTION"
The \fBbackup addvolentry\fR command adds a volume entry definition to the
existing volume set named by the \fB\-name\fR argument. A volume entry
definition can match one or more volumes, depending on the combination of
the \fB\-server\fR, \fB\-partition\fR, and \fB\-volumes\fR arguments.
.PP
For the \fB\-server\fR and \fB\-partition\fR arguments, provide either
.Ip "\(bu" 4
The name of one machine or partition.
.Ip "\(bu" 4
The metacharacter expression .* (period and asterisk), which matches every
machine name or partition name in the Volume Location Database (\s-1VLDB\s0).
.PP
For the \fB\-volumes\fR argument, specify a combination of alphanumeric
characters and one or more metacharacters to wildcard part or all of the
volume name. the \fI\s-1OPTIONS\s0\fR manpage lists the acceptable metacharacters.
.SH "CAUTIONS"
It is best to issue this command in interactive mode. If issuing it at the
shell prompt, enclose any strings containing metacharacters in double
quotes, or escape the metacharacters with other delimiters, to prevent the
shell from interpreting them. Adding volume entries to a temporary volume
set is possible only within the interactive session in which the volume
set was created.
.SH "OPTIONS"
.Ip "\fB\-name\fR <\fIvolume set name\fR>" 4
Names the volume set to which to add this volume entry definition.  The
volume set must already exist (use the \fBbackup addvolset\fR command to
create it).
.Ip "\fB\-server\fR <\fImachine name\fR>" 4
Defines the set of one or more file server machines that house the volumes
in the volume entry. Provide either one fully-qualified hostname (such as
\f(CWfs1.abc.com\fR) or the metacharacter expression \f(CW.*\fR (period and
asterisk), which matches all machine names in the \s-1VLDB\s0.
.Ip "\fB\-partition\fR <\fIpartition name\fR>" 4
Defines the set of one or more partitions that house the volumes in the
volume entry. Provide either one complete partition name (such as
\f(CW/vicepa\fR) or the metacharacter expression \f(CW.*\fR (period and asterisk),
which matches all partition names.
.Ip "\fB\-volumes\fR <\fIvolume name\fR>" 4
Defines the set of one or more volumes included in the volume
entry. Specify the volumes by name, by using any combination of regular
alphanumeric characters and one or more of the following metacharacter
expressions:
.Ip "." 8
The period matches any single character.
.Ip "\(bu" 8
The asterisk matches zero or more instances of the preceding character.
Combine it with any other alphanumeric character or metacharacter.
.Ip "[ ]" 8
Square brackets around a list of characters match a single instance of any
of the characters, but no other characters; for example, \f(CW[abc]\fR matches
a single \f(CWa\fR or \f(CWb\fR or \f(CWc\fR, but not \f(CWd\fR or \f(CWA\fR. This expression can
be combined with the asterisk.
.Ip "^" 8
The caret, when used as the first character in a square-bracketed set,
designates a match with any single character \fIexcept\fR the characters that
follow it; for example, \f(CW[^a]\fR matches any single character except
lowercase \f(CWa\fR. This expression can be combined with the asterisk.
.Ip "\e" 8
A backslash preceding any of the metacharacters in this list makes it
match its literal value only. For example, the expression \f(CW\e.\fR (backslash
and period) matches a single period, \f(CW\e*\fR a single asterisk, and \f(CW\e\e\fR a
single backslash.  Such expressions can be combined with the asterisk (for
example, \f(CW\e.*\fR matches any number of periods).
.Sp
Perhaps the most common metacharacter expression is the period followed by
an asterisk (\f(CW.*\fR). This expression matches any string of any length,
because the period matches any character and the asterisk means any number
of that character. As mentioned, it is the only acceptable metacharacter
expression for the \fB\-server\fR and \fB\-partition\fR arguments. In a volume
definition it can stand alone (in which case it matches every volume
listed in the \s-1VLDB\s0), or can combine with regular characters. The following
example matches any volume name that begins with the string \f(CWuser\fR and
ends with \f(CWbackup\fR:
.Sp
.Vb 1
\&   user.*backup
.Ve
.Ip "\fB\-localauth\fR" 4
Constructs a server ticket using a key from the local
\fI/usr/afs/etc/KeyFile\fR file. The \fBbackup\fR command interpreter presents
it to the Backup Server, Volume Server and \s-1VL\s0 Server during mutual
authentication. Do not combine this flag with the \fB\-cell\fR argument. For
more details, see the \fIbackup(8)\fR manpage.
.Ip "\fB\-cell\fR <\fIcell name\fR>" 4
Names the cell in which to run the command. Do not combine this argument
with the \fB\-localauth\fR flag. For more details, see the \fIbackup(8)\fR manpage.
.Ip "\fB\-help\fR" 4
Prints the online help for this command. All other valid options are
ignored.
.SH "EXAMPLES"
The following command adds a volume entry to the volume set called
\f(CWsys\fR. The entry matches all volumes on any machine or partition whose
names begin with the string \f(CWsun4x_56\fR followed by a period:
.PP
.Vb 1
\&   backup> addvolentry sys .* .* sun4x_56\e..*
.Ve
The following command adds a volume entry to the volume set called \f(CWfs2\fR,
to match all volumes on the \fI/vicepb\fR partition of file server machine
\f(CWfs2.abc.com\fR. Because it is issued at the shell prompt, double quotes
surround the metacharacters in the \fB\-volumes\fR argument. (The command is
shown here on two lines only for legibility reasons.)
.PP
.Vb 2
\&   % backup addvolentry -name fs2 -server fs2.abc.com \e
\&                        -partition /vicepb -volumes ".*"
.Ve
The chapter in the \fIIBM AFS Administration Guide\fR about configuring the
AFS Backup System presents additional examples as well as advice on
grouping volumes.
.SH "PRIVILEGE REQUIRED"
The issuer must be listed in the \fI/usr/afs/etc/UserList\fR file on every
machine where the Backup Server is running, or must be logged onto a
server machine as the local superuser \f(CWroot\fR if the \fB\-localauth\fR flag is
included.
.SH "SEE ALSO"
the \fIbackup(8)\fR manpage,
the \fIbackup_addvolset(8)\fR manpage,
the \fIbackup_delvolentry(8)\fR manpage,
the \fIbackup_delvolset(8)\fR manpage,
the \fIbackup_listvolsets(8)\fR manpage
.SH "COPYRIGHT"
IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.

.rn }` ''
.IX Title "backup_addvolentry 8"
.IX Name "backup_addvolentry - Defines a volume entry in a volume set"

.IX Header "NAME"

.IX Header "SYNOPSIS"

.IX Header "DESCRIPTION"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Header "CAUTIONS"

.IX Header "OPTIONS"

.IX Item "\fB\-name\fR <\fIvolume set name\fR>"

.IX Item "\fB\-server\fR <\fImachine name\fR>"

.IX Item "\fB\-partition\fR <\fIpartition name\fR>"

.IX Item "\fB\-volumes\fR <\fIvolume name\fR>"

.IX Item "."

.IX Item "\(bu"

.IX Item "[ ]"

.IX Item "^"

.IX Item "\e"

.IX Item "\fB\-localauth\fR"

.IX Item "\fB\-cell\fR <\fIcell name\fR>"

.IX Item "\fB\-help\fR"

.IX Header "EXAMPLES"

.IX Header "PRIVILEGE REQUIRED"

.IX Header "SEE ALSO"

.IX Header "COPYRIGHT"

