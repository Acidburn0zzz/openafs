.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH kas 8 "OpenAFS" "5/Jan/2006" "AFS Command Reference"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
kas \- Introduction to the kas command suite
.SH "DESCRIPTION"
The commands in the \fBkas\fR command suite are the administrative interface
to the Authentication Server, which runs on each database server machine
in a cell, maintains the Authentication Database, and provides the
authentication tickets that client applications must present to AFS
servers in order to obtain access to AFS data and other services.
.PP
There are several categories of commands in the \fBkas\fR command suite:
.Ip "\(bu" 4
Commands to create, modify, examine and delete entries in the
Authentication Database, including passwords: \fBkas create\fR, \fBkas
delete\fR, \fBkas examine\fR, \fBkas list\fR, \fBkas setfields\fR, \fBkas setkey\fR,
\fBkas setpassword\fR, and \fBkas unlock\fR.
.Ip "\(bu" 4
Commands to create, delete, and examine tokens and server tickets: \fBkas
forgetticket\fR, \fBkas listtickets\fR, \fBkas noauthentication\fR, and \fBkas
stringtokey\fR.
.Ip "\(bu" 4
A command to enter interactive mode: \fBkas interactive\fR.
.Ip "\(bu" 4
A command to trace Authentication Server operations: \fBkas statistics\fR.
.Ip "\(bu" 4
Commands to obtain help: \fBkas apropos\fR and \fBkas help\fR.
.PP
Because of the sensitivity of information in the Authentication Database,
the Authentication Server authenticates issuers of \fBkas\fR commands
directly, rather than accepting the standard token generated by the Ticket
Granting Service. Any \fBkas\fR command that requires administrative
privilege prompts the issuer for a password. The resulting ticket is valid
for six hours unless the maximum ticket lifetime for the issuer or the
Authentication Server's Ticket Granting Service is shorter.
.PP
To avoid having to provide a password repeatedly when issuing a sequence
of \fBkas\fR commands, enter \fIinteractive mode\fR by issuing the \fBkas
interactive\fR command, typing \fBkas\fR without any operation code, or typing
\fBkas\fR followed by a user and cell name, separated by an at-sign (\f(CW@\fR; an
example is \f(CWkas smith.admin@abc.com\fR). After prompting once for a
password, the Authentication Server accepts the resulting token for every
command issued during the interactive session. See the \fIkas_interactive(8)\fR manpage
for a discussion of when to use each method for entering interactive mode
and of the effects of entering a session.
.PP
The Authentication Server maintains two databases on the local disk of the
machine where it runs:
.Ip "\(bu" 4
The Authentication Database (\fI/usr/afs/db/kaserver.\s-1DB0\s0\fR) stores the
information used to provide \s-1AFS\s0 authentication services to users and
servers, including the password scrambled as an encryption key. The
reference page for the \fBkas examine\fR command describes the information in
a database entry.
.Ip "\(bu" 4
An auxiliary file (\fI/usr/afs/local/kaauxdb\fR by default) that tracks how
often the user has provided an incorrect password to the local
Authentication Server. The reference page for the \fBkas setfields\fR command
describes how the Authentication Server uses this file to enforce the
limit on consecutive authentication failures. To designate an alternate
directory for the file, use the \fBkaserver\fR command's \fB\-localfiles\fR
argument.
.SH "OPTIONS"
The following arguments and flags are available on many commands in the
\fBkas\fR suite. (Some of them are unavailable on commands entered in
interactive mode, because the information they specify is established when
entering interactive mode and cannot be changed except by leaving
interactive mode.) The reference page for each command also lists them,
but they are described here in greater detail.
.Ip "\fB\-admin_username\fR <\fIuser name\fR>" 4
Specifies the user identity under which to authenticate with the
Authentication Server for execution of the command. If this argument is
omitted, the \fBkas\fR command interpreter requests authentication for the
identity under which the issuer is logged onto the local machine.  Do not
combine this argument with the \fB\-noauth\fR flag.
.Ip "\fB\-cell\fR <\fIcell name\fR>" 4
Names the cell in which to run the command. It is acceptable to abbreviate
the cell name to the shortest form that distinguishes it from the other
entries in the \fI/usr/vice/etc/CellServDB\fR file on the local machine. If
the \fB\-cell\fR argument is omitted, the command interpreter determines the
name of the local cell by reading the following in order:
.Ip "\(bu" 8
The value of the \s-1AFSCELL\s0 environment variable.
.Ip "\(bu" 8
The local \fI/usr/vice/etc/ThisCell\fR file.
.Sp
The \fB\-cell\fR argument is not available on commands issued in interactive
mode. The cell defined when the \fBkas\fR command interpreter enters
interactive mode applies to all commands issued during the interactive
session.
.Ip "\fB\-help\fR" 4
Prints a command's online help message on the standard output stream. Do
not combine this flag with any of the command's other options; when it is
provided, the command interpreter ignores all other options, and only
prints the help message.
.Ip "\fB\-noauth\fR" 4
Establishes an unauthenticated connection to the Authentication Server, in
which the Authentication Server treats the issuer as the unprivileged user
\f(CWanonymous\fR. It is useful only when authorization checking is disabled on
the server machine (during the installation of a server machine or when
the \fBbos setauth\fR command has been used during other unusual
circumstances). In normal circumstances, the Authentication Server allows
only privileged users to issue most \fBkas\fR commands, and refuses to
perform such an action even if the \fB\-noauth\fR flag is provided. Do not
combine this flag with the \fB\-admin_username\fR and \fB\-password_for_admin\fR
arguments.
.Ip "\fB\-password_for_admin\fR <\fIpassword\fR>" 4
Specifies the password of the command's issuer. It is best to omit this
argument, which echoes the password visibly in the command shell, instead
enter the password at the prompt. Do not combine this argument with the
\fB\-noauth\fR flag.
.Ip "\fB\-servers\fR <\fImachine name\fR>+" 4
Establishes a connection with the Authentication Server running on each
specified database server machine, instead of on each machine listed in
the local \fI/usr/vice/etc/CellServDB\fR file. In either case, the \fBkas\fR
command interpreter then chooses one of the machines at random to contact
for execution of each subsequent command. The issuer can abbreviate the
machine name to the shortest form that allows the local name service to
identify it uniquely.
.SH "PRIVILEGE REQUIRED"
To issue most kas commands, the issuer must have the \f(CWADMIN\fR flag set in
his or her Authentication Database entry (use the \fBkas setfields\fR command
to turn the flag on).
.SH "SEE ALSO"
the \fICellServDB(5)\fR manpage,
the \fIkaserver.DB0(5)\fR manpage,
the \fIkaserverauxdb(5)\fR manpage,
the \fIkas_apropos(8)\fR manpage,
the \fIkas_create(8)\fR manpage,
the \fIkas_delete(8)\fR manpage,
the \fIkas_examine(8)\fR manpage,
the \fIkas_forgetticket(8)\fR manpage,
the \fIkas_help(8)\fR manpage,
the \fIkas_interactive(8)\fR manpage,
the \fIkas_list(8)\fR manpage,
the \fIkas_listtickets(8)\fR manpage,
the \fIkas_noauthentication(8)\fR manpage,
the \fIkas_quit(8)\fR manpage,
the \fIkas_setfields(8)\fR manpage,
the \fIkas_setpassword(8)\fR manpage,
the \fIkas_statistics(8)\fR manpage,
the \fIkas_stringtokey(8)\fR manpage,
the \fIkas_unlock(8)\fR manpage,
the \fIkaserver(8)\fR manpage
.SH "COPYRIGHT"
IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.

.rn }` ''
.IX Title "kas 8"
.IX Name "kas - Introduction to the kas command suite"

.IX Header "NAME"

.IX Header "DESCRIPTION"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Header "OPTIONS"

.IX Item "\fB\-admin_username\fR <\fIuser name\fR>"

.IX Item "\fB\-cell\fR <\fIcell name\fR>"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "\fB\-help\fR"

.IX Item "\fB\-noauth\fR"

.IX Item "\fB\-password_for_admin\fR <\fIpassword\fR>"

.IX Item "\fB\-servers\fR <\fImachine name\fR>+"

.IX Header "PRIVILEGE REQUIRED"

.IX Header "SEE ALSO"

.IX Header "COPYRIGHT"

