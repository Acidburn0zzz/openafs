.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH bos_install 8 "OpenAFS" "11/Nov/2007" "AFS Command Reference"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
bos_install \- Installs a new version of a binary file
.SH "SYNOPSIS"
\fBbos install\fR <<\ \fB\-server\fR\ <\fImachine\ name\fR >>> <<\ \fB\-file\fR\ <\fIfiles\ to\ install\fR+ >>>
    <<\ [\fB\-dir\fR\ <\fIdestination\ dir\fR] >>> <<\ [\fB\-cell\fR\ <\fIcell\ name\fR] >>>
    [\fB\-noauth\fR] [\fB\-localauth\fR] [\fB\-help\fR]
.PP
\fBbos i\fR <<\ \fB\-s\fR\ <\fImachine\ name\fR >>> <<\ \fB\-f\fR\ <\fIfiles\ to\ install\fR+ >>>
    <<\ [\fB\-d\fR\ <\fIdestination\ dir\fR] >>> <<\ [\fB\-c\fR\ <\fIcell\ name\fR] >>> [\fB\-n\fR]
    [\fB\-l\fR] [\fB\-h\fR]
.SH "DESCRIPTION"
The \fBbos install\fR command copies each binary file specified with the
\fB\-file\fR argument to the local disk of the server machine named by the
\fB\-server\fR argument, which is normally the binary distribution machine for
its CPU/operating system type. The destination directory is
\fI/usr/afs/bin\fR unless the \fB\-dir\fR argument indicates an alternate
directory. The source file's UNIX mode bits are preserved in the transfer.
.PP
If there is already a file of the same name in the destination directory,
the BOS Server automatically saves it by adding a \f(CW.BAK\fR extension. If
there is a current \f(CW.BAK\fR version at least seven days old, it replaces
the current \f(CW.OLD\fR version. If there is no current \f(CW.OLD\fR version, the
current \f(CW.BAK\fR version becomes the \f(CW.OLD\fR version automatically. The
\fBbos getdate\fR command displays the timestamps on the current versions of
the file.
.PP
To start using the new binary immediately, issue the bos restart
command. Otherwise, the BOS Server automatically restarts the process at
the time defined in the \fI/usr/afs/local/BosConfig\fR file; use the \fBbos
getrestart\fR command to display the time and the \fBbos setrestart\fR time to
set it.
.SH "OPTIONS"
.Ip "\fB\-server\fR <\fImachine name\fR>" 4
Indicates the binary distribution machine on which to install the new
binaries. Identify the machine by \s-1IP\s0 address or its host name (either
fully-qualified or abbreviated unambiguously). For details, see the \fIbos(8)\fR manpage.
.Sp
If the machine is not a binary distribution machine and is running an
\f(CWupclientbin\fR process, then the files are overwritten the next time the
\f(CWupclientbin\fR process fetches the corresponding file from the
distribution machine (by default within five minutes).
.Ip "\fB\-file\fR <\fIfiles to install\fR>+" 4
Specifies the complete pathname of each binary file to copy into the
destination directory. Each source directory can be on the local disk or
in \s-1AFS\s0, in which case the issuer of the \fBbos install\fR command must have
the necessary \s-1AFS\s0 access rights and the local machine must run the Cache
Manager. For the \s-1BOS\s0 Server to create \f(CW.BAK\fR and \f(CW.OLD\fR versions, the
last element in the pathname (the filename) must match the name of a file
in the destination directory.  the \fIbos_create(8)\fR manpage lists the standard binary
file names.
.Ip "\fB\-dir\fR <\fIdestination dir\fR>" 4
Provides the complete pathname of the local disk directory in which to
install binary files. It is necessary only if the destination directory
is not \fI/usr/afs/bin\fR.
.Ip "\fB\-cell\fR <\fIcell name\fR>" 4
Names the cell in which to run the command. Do not combine this argument
with the \fB\-localauth\fR flag. For more details, see the \fIbos(8)\fR manpage.
.Ip "\fB\-noauth\fR" 4
Assigns the unprivileged identity \f(CWanonymous\fR to the issuer. Do not
combine this flag with the \fB\-localauth\fR flag. For more details, see
the \fIbos(8)\fR manpage.
.Ip "\fB\-localauth\fR" 4
Constructs a server ticket using a key from the local
\fI/usr/afs/etc/KeyFile\fR file. The \fBbos\fR command interpreter presents the
ticket to the \s-1BOS\s0 Server during mutual authentication. Do not combine this
flag with the \fB\-cell\fR or \fB\-noauth\fR options. For more details, see
the \fIbos(8)\fR manpage.
.Ip "\fB\-help\fR" 4
Prints the online help for this command. All other valid options are
ignored.
.SH "EXAMPLES"
The following command copies the file
\fI/afs/abc.com/rs_aix42/usr/afs/bin/vlserver\fR to the file
\fI/usr/afs/bin/vlserver\fR on the machine \f(CWfs3.abc.com\fR, which is the
binary distribution machine for server machines running AIX 4.2 in the
\f(CWabc.com\fR cell. The current version of the \fI/usr/afs/bin/vlserver\fR file
is moved to \fI/usr/afs/bin/vlserver.BAK\fR.
.PP
.Vb 2
\&   % bos install -server fs3.abc.com \e
\&                 -file /afs/abc.com/rs_aix42/usr/afs/bin/vlserver
.Ve
.SH "PRIVILEGE REQUIRED"
The issuer must be listed in the \fI/usr/afs/etc/UserList\fR file on the
machine named by the \fB\-server\fR argument, or must be logged onto a server
machine as the local superuser \f(CWroot\fR if the \fB\-localauth\fR flag is
included.
.SH "SEE ALSO"
the \fIBosConfig(5)\fR manpage,
the \fIKeyFile(5)\fR manpage,
the \fIUserList(5)\fR manpage,
the \fIbos(8)\fR manpage,
the \fIbos_getdate(8)\fR manpage,
the \fIbos_getrestart(8)\fR manpage,
the \fIbos_restart(8)\fR manpage,
the \fIbos_setrestart(8)\fR manpage
.SH "COPYRIGHT"
IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.

.rn }` ''
.IX Title "bos_install 8"
.IX Name "bos_install - Installs a new version of a binary file"

.IX Header "NAME"

.IX Header "SYNOPSIS"

.IX Header "DESCRIPTION"

.IX Header "OPTIONS"

.IX Item "\fB\-server\fR <\fImachine name\fR>"

.IX Item "\fB\-file\fR <\fIfiles to install\fR>+"

.IX Item "\fB\-dir\fR <\fIdestination dir\fR>"

.IX Item "\fB\-cell\fR <\fIcell name\fR>"

.IX Item "\fB\-noauth\fR"

.IX Item "\fB\-localauth\fR"

.IX Item "\fB\-help\fR"

.IX Header "EXAMPLES"

.IX Header "PRIVILEGE REQUIRED"

.IX Header "SEE ALSO"

.IX Header "COPYRIGHT"

