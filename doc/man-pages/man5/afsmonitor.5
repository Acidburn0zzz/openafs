.rn '' }`
''' $RCSfile$$Revision$$Date$
'''
''' $Log$
'''
.de Sh
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp
.if t .sp .5v
.if n .sp
..
.de Ip
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.de Vb
.ft CW
.nf
.ne \\$1
..
.de Ve
.ft R

.fi
..
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
.tr \(*W-|\(bv\*(Tr
.ie n \{\
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
'br\}
.el\{\
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
'br\}
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaninful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
..
.nr % 0
.rr F
.\}
.TH afsmonitor 5 "OpenAFS" "5/Jan/2006" "AFS File Reference"
.UC
.if n .hy 0
.if n .na
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
.bd B 3
.	\" fudge factors for nroff and troff
.if n \{\
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
.\}
.if t \{\
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
.\}
.	\" simple accents for nroff and troff
.if n \{\
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
.\}
.if t \{\
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
.\}
.	\" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.	\" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
.\}
.rm #[ #] #H #V #F C
.SH "NAME"
afsmonitor \- Provides instructions for the afsmonitor command
.SH "DESCRIPTION"
The afsmonitor configuration file determines which machines the
\fBafsmonitor\fR command probes for File Server or Cache Manager statistics
and which statistics it gathers. Use the \fB\-config\fR argument to the
\fBafsmonitor\fR command to identify the configuration file to use.
.PP
The instructions that can appear in the configuration file are as follows:
.Ip "cm <\fIhost name\fR>" 4
Names a client machine for which to display Cache Manager statistics. The
order of \f(CWcm\fR lines in the file determines the order in which client
machines appear from top to bottom on the \f(CWSystem Overview\fR and \f(CWCache
Managers\fR output screens.
.Ip "fs <\fIhost name\fR>" 4
Names a file server machine for which to display File Server
statistics. The order of \f(CWfs\fR lines in the file determines the order in
which file server machines appear from top to bottom on the \f(CWSystem
Overview\fR and \f(CWFile Servers\fR output screens.
.Ip "thresh (fs | cm) <\fIfield\fR> <\fIthresh\fR> [<\fIcmd\fR>] [<\fIarg\fR> ...]" 4
Assigns the threshold value \fIthresh\fR to the statistic \fIfield\fR, for
either a File Server statistic (\f(CWfs\fR) or a Cache Manager statistic
(\f(CWcm\fR). The optional \fIcmd\fR field names a binary or script to execute
each time the value of the statistic changes from being below \fIthresh\fR to
being at or above \fIthresh\fR. A change between two values that both exceed
\fIthresh\fR does not retrigger the binary or script. The optional \fIarg\fR
fields are additional values that the \fBafsmonitor\fR program passes as
arguments to the \fIcmd\fR command. If any of them include one or more
spaces, enclose the entire field in double quotes.
.Sp
The \fBafsmonitor\fR program passes the following parameters to the \fIcmd\fR:
.Sp
.Vb 1
\&    <hostname> (fs|cm) <field> <thresh> <actual> [<arg> ...]
.Ve
The parameters \f(CWfs\fR, \f(CWcm\fR, <field>, <thresh>, and <arg> correspond to
the values with the same name on the thresh line. The <hostname> parameter
identifies the file server or client machine where the statistic has
crossed the threshold, and the <actual> parameter is the actual value of
<field> that exceeds the threshold value.
.Sp
Use the \f(CWthresh\fR line to set either a global threshold, which applies to
all file server machines listed on \f(CWfs\fR lines or client machines listed
on \f(CWcm\fR lines in the configuration file, or a machine-specific threshold,
which applies to only one file server or client machine.
.Ip "\(bu" 8
To set a global threshold, place the thresh line before any of the \f(CWfs\fR
or \f(CWcm\fR lines in the file.
.Ip "\(bu" 8
To set a machine-specific threshold, place the thresh line below the
corresponding \f(CWfs\fR or \f(CWcm\fR line, and above any other \f(CWfs\fR or \f(CWcm\fR
lines. A machine-specific threshold value always overrides the
corresponding global threshold, if set. Do not place a \f(CWthresh fs\fR line
directly after a \f(CWcm\fR line or a \f(CWthresh cm\fR line directly after a \f(CWfs\fR
line.
.Ip "show (fs | cm) \fIfield/group/section\fR" 4
Specifies which individual statistic, group of statistics, or section of
statistics to display on the \f(CWFile Servers\fR screen (\f(CWfs\fR) or \f(CWCache
Managers\fR screen (\f(CWcm\fR) and the order in which to display them. The
appendix of \fBafsmonitor\fR statistics in the \fI\s-1IBM\s0 \s-1AFS\s0 Administration
Guide\fR specifies the group and section to which each statistic
belongs. Include as many \f(CWshow\fR lines as necessary to customize the
screen display as desired, and place them anywhere in the file. The
top-to-bottom order of the \f(CWshow\fR lines in the configuration file
determines the left-to-right order in which the statistics appear on the
corresponding screen.
.Sp
If there are no \f(CWshow\fR lines in the configuration file, then the screens
display all statistics for both Cache Managers and File
Servers. Similarly, if there are no \f(CWshow fs\fR lines, the \f(CWFile Servers\fR
screen displays all file server statistics, and if there are no \f(CWshow cm\fR
lines, the \f(CWCache Managers\fR screen displays all client statistics.
.Ip "# \fIcomments\fR" 4
Precedes a line of text that the afsmonitor program ignores because of the
initial number (\f(CW#\fR) sign, which must appear in the very first column of
the line.
.PP
For a list of the values that can appear in the \fIfield/group/section\fR
field of a \f(CWshow\fR instruction, see the \fBafsmonitor\fR statistics appendix
to the \fI\s-1IBM\s0 \s-1AFS\s0 Administration Guide\fR.
.SH "SEE ALSO"
the \fIafsmonitor(1)\fR manpage
.SH "COPYRIGHT"
IBM Corporation 2000. <http://www.ibm.com/> All Rights Reserved.
.PP
This documentation is covered by the IBM Public License Version 1.0.  It was
converted from HTML to POD by software written by Chas Williams and Russ
Allbery, based on work by Alf Wachsmann and Elizabeth Cassell.

.rn }` ''
.IX Title "afsmonitor 5"
.IX Name "afsmonitor - Provides instructions for the afsmonitor command"

.IX Header "NAME"

.IX Header "DESCRIPTION"

.IX Item "cm <\fIhost name\fR>"

.IX Item "fs <\fIhost name\fR>"

.IX Item "thresh (fs | cm) <\fIfield\fR> <\fIthresh\fR> [<\fIcmd\fR>] [<\fIarg\fR> ...]"

.IX Item "\(bu"

.IX Item "\(bu"

.IX Item "show (fs | cm) \fIfield/group/section\fR"

.IX Item "# \fIcomments\fR"

.IX Header "SEE ALSO"

.IX Header "COPYRIGHT"

